"use strict";(self["webpackChunkgps_leaflet"]=self["webpackChunkgps_leaflet"]||[]).push([[875],{5814:function(e,t,l){l.r(t),l.d(t,{default:function(){return A}});var n=l(6252),i=l(9963),a=l(2262);const o="hcaptcha-api-script-id",r="_hcaptchaOnLoad";let s,u;const d=new Promise(((e,t)=>{s=e,u=t}));function c(e){if(window.hcaptcha)return s(),d;if(document.getElementById(o))return d;window[r]=s;const t=p(e),l=document.createElement("script");return l.id=o,l.src=t,l.async=!0,l.defer=!0,l.onerror=e=>{console.error("Failed to load api: "+t,e),u("Failed to load api.js")},document.head.appendChild(l),d}function p(e){let t=e.apiEndpoint;return t=h(t,"render","explicit"),t=h(t,"onload",r),t=h(t,"recaptchacompat",!1===e.reCaptchaCompat?"off":null),t=h(t,"hl",e.language),t=h(t,"sentry",e.sentry),t=h(t,"custom",e.custom),t=h(t,"endpoint",e.endpoint),t=h(t,"assethost",e.assethost),t=h(t,"imghost",e.imghost),t=h(t,"reportapi",e.reportapi),t}function h(e,t,l){if(void 0!==l&&null!==l){const n=e.includes("?")?"&":"?";return e+n+t+"="+encodeURIComponent(l)}return e}var m=(e,t)=>{for(const[l,n]of t)e[l]=n;return e};const v={name:"VueHcaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String,default:void 0},size:{type:String,default:void 0},tabindex:{type:String,default:void 0},language:{type:String,default:void 0},reCaptchaCompat:{type:Boolean,default:!0},challengeContainer:{type:String,default:void 0},rqdata:{type:String,default:void 0},sentry:{type:Boolean,default:!0},custom:{type:Boolean,default:void 0},apiEndpoint:{type:String,default:"https://hcaptcha.com/1/api.js"},endpoint:{type:String,default:void 0},reportapi:{type:String,default:void 0},assethost:{type:String,default:void 0},imghost:{type:String,default:void 0}},data:()=>({widgetId:null,hcaptcha:null,renderedCb:null}),mounted(){return c(this.$props).then(this.onApiLoaded).catch(this.onError)},unmounted(){this.teardown()},destroyed(){this.teardown()},methods:{teardown(){this.widgetId&&(this.hcaptcha.reset(this.widgetId),this.hcaptcha.remove(this.widgetId))},onApiLoaded(){this.hcaptcha=window.hcaptcha;const e={sitekey:this.sitekey,theme:this.theme,size:this.size,tabindex:this.tabindex,callback:this.onVerify,"expired-callback":this.onExpired,"chalexpired-callback":this.onChallengeExpired,"error-callback":this.onError,"open-callback":this.onOpen,"close-callback":this.onClose};this.challengeContainer&&(e["challenge-container"]=this.challengeContainer),this.widgetId=this.hcaptcha.render(this.$el,e),this.rqdata&&this.hcaptcha.setData(this.widgetId,{rqdata:this.rqdata}),this.onRendered()},execute(){this.widgetId?(this.hcaptcha.execute(this.widgetId),this.onExecuted()):this.renderedCb=()=>{this.renderedCb=null,this.execute()}},executeAsync(){if(this.widgetId)return this.onExecuted(),this.hcaptcha.execute(this.widgetId,{async:!0});let e;const t=new Promise((t=>{e=t}));return this.renderedCb=()=>{this.renderedCb=null,e()},t.then(this.executeAsync)},reset(){this.widgetId?(this.hcaptcha.reset(this.widgetId),this.onReset()):this.$emit("error","Element is not rendered yet and thus cannot reset it. Wait for `rendered` event to safely call reset.")},onRendered(){this.$emit("rendered"),this.renderedCb&&this.renderedCb()},onExecuted(){this.$emit("executed")},onReset(){this.$emit("reset")},onError(e){this.$emit("error",e),this.reset()},onVerify(){const e=this.hcaptcha.getResponse(this.widgetId),t=this.hcaptcha.getRespKey(this.widgetId);this.$emit("verify",e,t)},onExpired(){this.$emit("expired")},onChallengeExpired(){this.$emit("challengeExpired")},onOpen(){this.$emit("opened")},onClose(){this.$emit("closed")}}},f={id:"hcap-script"};function y(e,t,l,i,a,o){return(0,n.wg)(),(0,n.iD)("div",f)}var g=m(v,[["render",y]]),b=l(6919),w=l(6673),k=l(7037),C=l(5911),x=l(7742),S=l(1669),I=l(6393);const W={key:0},V=(0,n._)("br",null,null,-1),E={key:1},F=(0,n._)("br",null,null,-1),$=(0,n._)("br",null,null,-1),_={id:"App"},z={key:0,id:"expired"},B={key:1,id:"error"},U={componenets:{},name:"routeSuggestion",data(){return{name:"",file:null,success:!1,email:"",poi:"",valid:!0}},methods:{handleFile(){this.file=this.$refs.file.files[0]},async postSuggestion(){const e=new Blob([this.file],{type:"text/plain"}),t=await e.text();let l=await fetch("https://cyclebackend-dn4hl3ql4q-uc.a.run.app/v1/email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,file:t,poi:this.poi,email:this.email})});return l=await l.json(),l},async submit(){try{if(!this.file||!this.name)return void(this.valid=!1);this.valid=!0;const e=await this.postSuggestion(this.file,this.name);200===e.status&&(this.success=!0)}catch(e){console.log("error:\n"),console.log(e)}}}};var q=Object.assign(U,{setup(e){const t=(0,a.iH)(!1),l=(0,a.iH)(!1),o=(0,a.iH)(""),r=(0,a.iH)(""),s=(0,a.iH)("");function u(e,n){t.value=!0,o.value=e,r.value=n,l.value=!1}function d(){t.value=!1,o.value=null,r.value=null,l.value=!0,console.log("Expired")}function c(){t.value=!1,o.value=null,r.value=null,l.value=!0,console.log("Challenge expired")}function p(e){o.value=null,r.value=null,s.value=e,console.log(`Error: ${e}`)}return(e,o)=>((0,n.wg)(),(0,n.j4)(S.K,null,{default:(0,n.w5)((()=>[e.success?((0,n.wg)(),(0,n.iD)("div",W,[(0,n.Wm)(b.w,{class:"success",type:"success",title:"Suggestion Submitted!",text:"Your route has been submitted for review by the City of Bolivar!"}),V])):(0,n.kq)("",!0),e.valid?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",E,[(0,n.Wm)(b.w,{class:"invalidForm",type:"warning",title:"Invalid Form Input",text:"Please include GPX file and name of route.",width:"max"})])),(0,n.wy)((0,n.Wm)(S.K,{class:"description"},{default:(0,n.w5)((()=>[(0,n.Wm)(k._,{width:"max","prepend-icon":"mdi-map-marker-outline",color:"#083a8c",class:"justify-center"},{title:(0,n.w5)((()=>[(0,n.Uk)(" Submit a route! ")])),default:(0,n.w5)((()=>[(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Please use the form below to submit a route suggestion for the cycling website! "),F,(0,n.Uk)(" Your submission will be reviewed by the City of Bolivar. "),$,(0,n.Uk)(" Please include the name of your route, associated GPX file, points of interest you would like to include along the route, and optionally your contact information. ")])),_:1})])),_:1})])),_:1},512),[[i.F8,!e.success]]),(0,n.wy)((0,n._)("form",{class:"formContainer",onSubmit:o[4]||(o[4]=(0,i.iM)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"])),enctype:"multipart/form-data",id:"form",name:"form",ref:"form"},[(0,n.Wm)(I.h,{variant:"outlined",label:"Route Name","prepend-icon":"mdi-bike",modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=t=>e.name=t),name:"name",id:"name",required:""},null,8,["modelValue"]),(0,n.Wm)(x.Z,{label:"Upload .gpx File",variant:"outlined",type:"file",ref:"file",onChange:o[1]||(o[1]=t=>e.handleFile()),required:"",name:"file",accept:".gpx"},null,512),(0,n.Wm)(I.h,{variant:"outlined",label:"Points of Interest","prepend-icon":"mdi-map-marker-radius",modelValue:e.poi,"onUpdate:modelValue":o[2]||(o[2]=t=>e.poi=t),name:"poi",id:"poi"},null,8,["modelValue"]),(0,n.Wm)(I.h,{variant:"outlined",label:"Email","prepend-icon":"mdi-email",modelValue:e.email,"onUpdate:modelValue":o[3]||(o[3]=t=>e.email=t),name:"email",id:"email",type:"email"},null,8,["modelValue"]),t.value?((0,n.wg)(),(0,n.j4)(w.T,{key:0,onClick:e.submit,class:"submit",type:"submit"},{default:(0,n.w5)((()=>[(0,n.Uk)("submit")])),_:1},8,["onClick"])):(0,n.kq)("",!0)],544),[[i.F8,!e.success]]),(0,n._)("div",_,[l.value?((0,n.wg)(),(0,n.iD)("div",z,[(0,n.Wm)(b.w,{class:"expired",type:"info",title:"Challenged Expired",text:"Your challenge has expired. Please verify again that you are human."})])):(0,n.kq)("",!0),s.value?((0,n.wg)(),(0,n.iD)("div",B,[(0,n.Wm)(b.w,{class:"error",type:"error",title:"Error",text:"{{ error }}"})])):(0,n.kq)("",!0),(0,n.Wm)((0,a.SU)(g),{sitekey:"61e05036-5aa4-47a1-9e3e-9109ab2c1762",onVerify:u,onExpired:d,onChallengeExpired:c,onError:p})])])),_:1}))}});const P=q;var A=P},6919:function(e,t,l){l.d(t,{w:function(){return E}});var n=l(6252),i=l(5988);const a=(0,i.J)("v-alert-title");var o=l(6673),r=l(875),s=l(7737),u=l(6054),d=l(9e3),c=l(8942),p=l(4203),h=l(6947),m=l(6596),v=l(8475),f=l(9680),y=l(3632),g=l(1316),b=l(8247),w=l(2716),k=l(584),C=l(9748),x=l(2262),S=l(6533),I=l(6719);const W=["success","info","warning","error"],V=(0,S.U)({border:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:m.lE,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>W.includes(e)},...(0,d.l)(),...(0,c.f)(),...(0,p.x)(),...(0,h.c)(),...(0,f.y)(),...(0,y.F)(),...(0,b.I)(),...(0,w.Q)(),...(0,k.x$)(),...(0,C.bk)({variant:"flat"})},"VAlert"),E=(0,I.ev)()({name:"VAlert",props:V(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:l,slots:i}=t;const d=(0,g.z)(e,"modelValue"),m=(0,n.Fl)((()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon})),w=(0,n.Fl)((()=>({color:e.color??e.type,variant:e.variant}))),{themeClasses:S}=(0,k.ER)(e),{colorClasses:I,colorStyles:W,variantClasses:V}=(0,C.c1)(w),{densityClasses:E}=(0,c.t)(e),{dimensionStyles:F}=(0,p.$)(e),{elevationClasses:$}=(0,h.Y)(e),{locationStyles:_}=(0,f.T)(e),{positionClasses:z}=(0,y.K)(e),{roundedClasses:B}=(0,b.b)(e),{textColorClasses:U,textColorStyles:q}=(0,u.rY)((0,x.Vh)(e,"borderColor")),{t:P}=(0,v.bU)(),A=(0,n.Fl)((()=>({"aria-label":P(e.closeLabel),onClick(e){d.value=!1,l("click:close",e)}})));return()=>{const t=!(!i.prepend&&!m.value),l=!(!i.title&&!e.title),u=!(!i.close&&!e.closable);return d.value&&(0,n.Wm)(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},S.value,I.value,E.value,$.value,z.value,B.value,V.value,e.class],style:[W.value,F.value,_.value,e.style],role:"alert"},{default:()=>[(0,C.Ux)(!1,"v-alert"),e.border&&(0,n.Wm)("div",{key:"border",class:["v-alert__border",U.value],style:q.value},null),t&&(0,n.Wm)("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?(0,n.Wm)(r.z,{key:"prepend-defaults",disabled:!m.value,defaults:{VIcon:{density:e.density,icon:m.value,size:e.prominent?44:28}}},i.prepend):(0,n.Wm)(s.t,{key:"prepend-icon",density:e.density,icon:m.value,size:e.prominent?44:28},null)]),(0,n.Wm)("div",{class:"v-alert__content"},[l&&(0,n.Wm)(a,{key:"title"},{default:()=>[i.title?.()??e.title]}),i.text?.()??e.text,i.default?.()]),i.append&&(0,n.Wm)("div",{key:"append",class:"v-alert__append"},[i.append()]),u&&(0,n.Wm)("div",{key:"close",class:"v-alert__close"},[i.close?(0,n.Wm)(r.z,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[i.close?.({props:A.value})]}):(0,n.Wm)(o.T,(0,n.dG)({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},A.value),null)])]})}}})},7742:function(e,t,l){l.d(t,{Z:function(){return g}});var n=l(6252),i=l(4447),a=l(7467),o=l(2736),r=l(24),s=l(2246),u=l(9483),d=l(8475),c=l(1316),p=l(2262),h=l(6533),m=l(8676),v=l(6719),f=l(3099);const y=(0,h.U)({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},...(0,r.c)({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>(0,m.FT)(e).every((e=>null!=e&&"object"===typeof e))},...(0,o.hy)({clearable:!0})},"VFileInput"),g=(0,v.ev)()({name:"VFileInput",inheritAttrs:!1,props:y(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:l,emit:h,slots:v}=t;const{t:y}=(0,d.bU)(),g=(0,c.z)(e,"modelValue"),{isFocused:b,focus:w,blur:k}=(0,s.K)(e),C=(0,n.Fl)((()=>"boolean"!==typeof e.showSize?e.showSize:void 0)),x=(0,n.Fl)((()=>(g.value??[]).reduce(((e,t)=>{let{size:l=0}=t;return e+l}),0))),S=(0,n.Fl)((()=>(0,m.XE)(x.value,C.value))),I=(0,n.Fl)((()=>(g.value??[]).map((t=>{const{name:l="",size:n=0}=t;return e.showSize?`${l} (${(0,m.XE)(n,C.value)})`:l})))),W=(0,n.Fl)((()=>{const t=g.value?.length??0;return e.showSize?y(e.counterSizeString,t,S.value):y(e.counterString,t)})),V=(0,p.iH)(),E=(0,p.iH)(),F=(0,p.iH)(),$=(0,n.Fl)((()=>b.value||e.active)),_=(0,n.Fl)((()=>["plain","underlined"].includes(e.variant)));function z(){F.value!==document.activeElement&&F.value?.focus(),b.value||w()}function B(e){q(e)}function U(e){h("mousedown:control",e)}function q(e){F.value?.click(),h("click:control",e)}function P(t){t.stopPropagation(),z(),(0,n.Y3)((()=>{g.value=[],(0,m.dr)(e["onClick:clear"],t)}))}return(0,n.YP)(g,(e=>{const t=!Array.isArray(e)||!e.length;t&&F.value&&(F.value.value="")})),(0,f.L)((()=>{const t=!(!v.counter&&!e.counter),s=!(!t&&!v.details),[u,d]=(0,m.An)(l),[{modelValue:c,...p}]=r.q.filterProps(e),[h]=(0,o.g8)(e);return(0,n.Wm)(r.q,(0,n.dG)({ref:V,modelValue:g.value,"onUpdate:modelValue":e=>g.value=e,class:["v-file-input",{"v-text-field--plain-underlined":_.value},e.class],style:e.style,"onClick:prepend":B},u,p,{centerAffix:!_.value,focused:b.value}),{...v,default:t=>{let{id:l,isDisabled:a,isDirty:r,isReadonly:s,isValid:u}=t;return(0,n.Wm)(o.hF,(0,n.dG)({ref:E,"prepend-icon":e.prependIcon,onMousedown:U,onClick:q,"onClick:clear":P,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},h,{id:l.value,active:$.value||r.value,dirty:r.value,disabled:a.value,focused:b.value,error:!1===u.value}),{...v,default:t=>{let{props:{class:l,...o}}=t;return(0,n.Wm)(n.HY,null,[(0,n.Wm)("input",(0,n.dG)({ref:F,type:"file",readonly:s.value,disabled:a.value,multiple:e.multiple,name:e.name,onClick:e=>{e.stopPropagation(),s.value&&e.preventDefault(),z()},onChange:e=>{if(!e.target)return;const t=e.target;g.value=[...t.files??[]]},onFocus:z,onBlur:k},o,d),null),(0,n.Wm)("div",{class:l},[!!g.value?.length&&(v.selection?v.selection({fileNames:I.value,totalBytes:x.value,totalBytesReadable:S.value}):e.chips?I.value.map((t=>(0,n.Wm)(i.v,{key:t,size:"small",color:e.color},{default:()=>[t]}))):I.value.join(", "))])])}})},details:s?e=>(0,n.Wm)(n.HY,null,[v.details?.(e),t&&(0,n.Wm)(n.HY,null,[(0,n.Wm)("span",null,null),(0,n.Wm)(a._,{active:!!g.value?.length,value:W.value},v.counter)])]):void 0})})),(0,u.F)({},V,E,F)}})}}]);
//# sourceMappingURL=RouteSuggestion.81af6d48.js.map