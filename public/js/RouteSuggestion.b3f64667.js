"use strict";(self["webpackChunkgps_leaflet"]=self["webpackChunkgps_leaflet"]||[]).push([[875],{9391:function(e,l,t){t.r(l),t.d(l,{default:function(){return D}});var a=t(6252),n=t(9963),o=t(5988);const i=(0,o.J)("v-alert-title");var s=t(6673),r=t(875),u=t(7737),c=t(6054),d=t(9e3),p=t(8942),m=t(4203),v=t(6947),f=t(6596),y=t(8475),b=t(9680),h=t(3632),g=t(1316),k=t(8247),w=t(2716),S=t(584),C=t(9748),W=t(2262),F=t(6533),V=t(6719);const x=["success","info","warning","error"],_=(0,F.U)({border:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:f.lE,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>x.includes(e)},...(0,d.l)(),...(0,p.f)(),...(0,m.x)(),...(0,v.c)(),...(0,b.y)(),...(0,h.F)(),...(0,k.I)(),...(0,w.Q)(),...(0,S.x$)(),...(0,C.bk)({variant:"flat"})},"VAlert"),z=(0,V.ev)()({name:"VAlert",props:_(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{emit:t,slots:n}=l;const o=(0,g.z)(e,"modelValue"),d=(0,a.Fl)((()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon})),f=(0,a.Fl)((()=>({color:e.color??e.type,variant:e.variant}))),{themeClasses:w}=(0,S.ER)(e),{colorClasses:F,colorStyles:V,variantClasses:x}=(0,C.c1)(f),{densityClasses:_}=(0,p.t)(e),{dimensionStyles:z}=(0,m.$)(e),{elevationClasses:I}=(0,v.Y)(e),{locationStyles:B}=(0,b.T)(e),{positionClasses:U}=(0,h.K)(e),{roundedClasses:$}=(0,k.b)(e),{textColorClasses:P,textColorStyles:Y}=(0,c.rY)((0,W.Vh)(e,"borderColor")),{t:A}=(0,y.bU)(),E=(0,a.Fl)((()=>({"aria-label":A(e.closeLabel),onClick(e){o.value=!1,t("click:close",e)}})));return()=>{const l=!(!n.prepend&&!d.value),t=!(!n.title&&!e.title),c=!(!n.close&&!e.closable);return o.value&&(0,a.Wm)(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},w.value,F.value,_.value,I.value,U.value,$.value,x.value,e.class],style:[V.value,z.value,B.value,e.style],role:"alert"},{default:()=>[(0,C.Ux)(!1,"v-alert"),e.border&&(0,a.Wm)("div",{key:"border",class:["v-alert__border",P.value],style:Y.value},null),l&&(0,a.Wm)("div",{key:"prepend",class:"v-alert__prepend"},[n.prepend?(0,a.Wm)(r.z,{key:"prepend-defaults",disabled:!d.value,defaults:{VIcon:{density:e.density,icon:d.value,size:e.prominent?44:28}}},n.prepend):(0,a.Wm)(u.t,{key:"prepend-icon",density:e.density,icon:d.value,size:e.prominent?44:28},null)]),(0,a.Wm)("div",{class:"v-alert__content"},[t&&(0,a.Wm)(i,{key:"title"},{default:()=>[n.title?.()??e.title]}),n.text?.()??e.text,n.default?.()]),n.append&&(0,a.Wm)("div",{key:"append",class:"v-alert__append"},[n.append()]),c&&(0,a.Wm)("div",{key:"close",class:"v-alert__close"},[n.close?(0,a.Wm)(r.z,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[n.close?.({props:E.value})]}):(0,a.Wm)(s.T,(0,a.dG)({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},E.value),null)])]})}}});var I=t(7037),B=t(5911),U=t(7742),$=t(1669),P=t(6393);const Y={key:0},A={key:1},E=(0,a._)("br",null,null,-1),j=(0,a._)("br",null,null,-1);function q(e,l,t,o,i,r){return(0,a.wg)(),(0,a.j4)($.K,null,{default:(0,a.w5)((()=>[i.success?((0,a.wg)(),(0,a.iD)("div",Y,[(0,a.Wm)(z,{class:"success",type:"success",title:"Suggestion Submitted!",text:"Your route has been submitted for review by the City of Bolivar!"})])):(0,a.kq)("",!0),i.valid?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",A,[(0,a.Wm)(z,{class:"invalidForm",type:"warning",title:"Invalid Form Input",text:"Please include GPX file and name of route.",width:"max"})])),(0,a.wy)((0,a.Wm)($.K,{class:"description"},{default:(0,a.w5)((()=>[(0,a.Wm)(I._,{width:"max","prepend-icon":"mdi-map-marker-outline",color:"#083a8c",class:"justify-center"},{title:(0,a.w5)((()=>[(0,a.Uk)(" Submit a route! ")])),default:(0,a.w5)((()=>[(0,a.Wm)(B.Z,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Please use the form below to submit a route suggestion for the cycling website! "),E,(0,a.Uk)(" Your submission will be reviewed by the City of Bolivar. "),j,(0,a.Uk)(" Please include the name of your route, associated GPX file, points of interest you would like to include along the route, and optionally your contact information. ")])),_:1})])),_:1})])),_:1},512),[[n.F8,!i.success]]),(0,a.wy)((0,a._)("form",{class:"formContainer",onSubmit:l[5]||(l[5]=(0,n.iM)(((...l)=>e.handleSubmit&&e.handleSubmit(...l)),["prevent"])),enctype:"multipart/form-data",id:"form",name:"form",ref:"form"},[(0,a.Wm)(P.h,{variant:"outlined",label:"Route Name","prepend-icon":"mdi-bike",modelValue:i.name,"onUpdate:modelValue":l[0]||(l[0]=e=>i.name=e),name:"name",id:"name",required:""},null,8,["modelValue"]),(0,a.Wm)(U.Z,{label:"Upload .gpx File",variant:"outlined",type:"file",ref:"file",onChange:l[1]||(l[1]=e=>r.handleFile()),required:"",name:"file",accept:".gpx"},null,512),(0,a.Wm)(P.h,{variant:"outlined",label:"Points of Interest","prepend-icon":"mdi-map-marker-radius",modelValue:i.poi,"onUpdate:modelValue":l[2]||(l[2]=e=>i.poi=e),name:"poi",id:"poi"},null,8,["modelValue"]),(0,a.Wm)(P.h,{variant:"outlined",label:"Email","prepend-icon":"mdi-email",modelValue:i.email,"onUpdate:modelValue":l[3]||(l[3]=e=>i.email=e),name:"email",id:"email",type:"email"},null,8,["modelValue"]),(0,a.Wm)(s.T,{onClick:r.submit,class:"submit",type:"submit"},{default:(0,a.w5)((()=>[(0,a.Uk)("submit")])),_:1},8,["onClick"]),(0,a._)("button",{onClick:l[4]||(l[4]=(...e)=>r.recaptcha&&r.recaptcha(...e))},"Execute recaptcha")],544),[[n.F8,!i.success]])])),_:1})}t(7936);var G={name:"routeSuggestion",data(){return{name:"",file:null,success:!1,email:"",poi:"",valid:!0}},methods:{async recaptcha(){await this.$recaptchaLoaded()},handleFile(){this.file=this.$refs.file.files[0],console.log(this.file)},async postSuggestion(){const e=new Blob([this.file],{type:"text/plain"}),l=await e.text();console.log(l);let t=await fetch("http://localhost:3000/v1/email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,file:l,poi:this.poi,email:this.email})});return t},async submit(){try{if(!this.file||!this.name)return void(this.valid=!1);this.valid=!0;const e=await this.postSuggestion(this.file,this.name);console.log(e),200===e.status&&(this.success=!0)}catch(e){console.log("error:\n"),console.log(e)}}}},H=t(3744);const T=(0,H.Z)(G,[["render",q]]);var D=T},7742:function(e,l,t){t.d(l,{Z:function(){return h}});var a=t(6252),n=t(4447),o=t(7467),i=t(2736),s=t(24),r=t(2246),u=t(9483),c=t(8475),d=t(1316),p=t(2262),m=t(6533),v=t(8676),f=t(6719),y=t(3099);const b=(0,m.U)({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},...(0,s.c)({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>(0,v.FT)(e).every((e=>null!=e&&"object"===typeof e))},...(0,i.hy)({clearable:!0})},"VFileInput"),h=(0,f.ev)()({name:"VFileInput",inheritAttrs:!1,props:b(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:t,emit:m,slots:f}=l;const{t:b}=(0,c.bU)(),h=(0,d.z)(e,"modelValue"),{isFocused:g,focus:k,blur:w}=(0,r.K)(e),S=(0,a.Fl)((()=>"boolean"!==typeof e.showSize?e.showSize:void 0)),C=(0,a.Fl)((()=>(h.value??[]).reduce(((e,l)=>{let{size:t=0}=l;return e+t}),0))),W=(0,a.Fl)((()=>(0,v.XE)(C.value,S.value))),F=(0,a.Fl)((()=>(h.value??[]).map((l=>{const{name:t="",size:a=0}=l;return e.showSize?`${t} (${(0,v.XE)(a,S.value)})`:t})))),V=(0,a.Fl)((()=>{const l=h.value?.length??0;return e.showSize?b(e.counterSizeString,l,W.value):b(e.counterString,l)})),x=(0,p.iH)(),_=(0,p.iH)(),z=(0,p.iH)(),I=(0,a.Fl)((()=>g.value||e.active)),B=(0,a.Fl)((()=>["plain","underlined"].includes(e.variant)));function U(){z.value!==document.activeElement&&z.value?.focus(),g.value||k()}function $(e){Y(e)}function P(e){m("mousedown:control",e)}function Y(e){z.value?.click(),m("click:control",e)}function A(l){l.stopPropagation(),U(),(0,a.Y3)((()=>{h.value=[],(0,v.dr)(e["onClick:clear"],l)}))}return(0,a.YP)(h,(e=>{const l=!Array.isArray(e)||!e.length;l&&z.value&&(z.value.value="")})),(0,y.L)((()=>{const l=!(!f.counter&&!e.counter),r=!(!l&&!f.details),[u,c]=(0,v.An)(t),[{modelValue:d,...p}]=s.q.filterProps(e),[m]=(0,i.g8)(e);return(0,a.Wm)(s.q,(0,a.dG)({ref:x,modelValue:h.value,"onUpdate:modelValue":e=>h.value=e,class:["v-file-input",{"v-text-field--plain-underlined":B.value},e.class],style:e.style,"onClick:prepend":$},u,p,{centerAffix:!B.value,focused:g.value}),{...f,default:l=>{let{id:t,isDisabled:o,isDirty:s,isReadonly:r,isValid:u}=l;return(0,a.Wm)(i.hF,(0,a.dG)({ref:_,"prepend-icon":e.prependIcon,onMousedown:P,onClick:Y,"onClick:clear":A,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},m,{id:t.value,active:I.value||s.value,dirty:s.value,disabled:o.value,focused:g.value,error:!1===u.value}),{...f,default:l=>{let{props:{class:t,...i}}=l;return(0,a.Wm)(a.HY,null,[(0,a.Wm)("input",(0,a.dG)({ref:z,type:"file",readonly:r.value,disabled:o.value,multiple:e.multiple,name:e.name,onClick:e=>{e.stopPropagation(),r.value&&e.preventDefault(),U()},onChange:e=>{if(!e.target)return;const l=e.target;h.value=[...l.files??[]]},onFocus:U,onBlur:w},i,c),null),(0,a.Wm)("div",{class:t},[!!h.value?.length&&(f.selection?f.selection({fileNames:F.value,totalBytes:C.value,totalBytesReadable:W.value}):e.chips?F.value.map((l=>(0,a.Wm)(n.v,{key:l,size:"small",color:e.color},{default:()=>[l]}))):F.value.join(", "))])])}})},details:r?e=>(0,a.Wm)(a.HY,null,[f.details?.(e),l&&(0,a.Wm)(a.HY,null,[(0,a.Wm)("span",null,null),(0,a.Wm)(o._,{active:!!h.value?.length,value:V.value},f.counter)])]):void 0})})),(0,u.F)({},x,_,z)}})}}]);
//# sourceMappingURL=RouteSuggestion.b3f64667.js.map