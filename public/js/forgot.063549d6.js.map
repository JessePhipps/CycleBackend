{"version":3,"file":"js/forgot.063549d6.js","mappings":"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","sources":["webpack://gps-leaflet/./src/views/ForgotPWView.vue","webpack://gps-leaflet/./src/views/ForgotPWView.vue?a61f","webpack://gps-leaflet/./node_modules/vuetify/lib/components/VAlert/VAlertTitle.mjs","webpack://gps-leaflet/./node_modules/vuetify/lib/components/VAlert/VAlert.mjs","webpack://gps-leaflet/./node_modules/vuetify/lib/components/VForm/VForm.mjs"],"sourcesContent":["<template>\r\n  <v-row justify=\"center\">\r\n    <v-col cols=\"12\" sm=\"8\" md=\"6\" lg=\"4\" class=\"d-flex align-center\">\r\n      <v-form\r\n        class=\"routeForm\"\r\n        validate-on=\"submit lazy\"\r\n        :rules=\"emailRules\"\r\n        @submit.prevent=\"submitForm()\"\r\n        ref=\"form\"\r\n      >\r\n        <div class=\"text-h5 text-center mb-6\">\r\n          Enter the email associated with your account\r\n        </div>\r\n        <v-text-field\r\n          v-model=\"email\"\r\n          :rules=\"emailRules\"\r\n          label=\"name@example.com\"\r\n          hide-details\r\n          required\r\n          class=\"mb-4\"\r\n        ></v-text-field>\r\n        <v-row justify=\"center\">\r\n          <v-col>\r\n            <v-btn type=\"submit\" class=\"mt-4\">Submit</v-btn>\r\n          </v-col>\r\n        </v-row>\r\n      </v-form>\r\n    </v-col>\r\n  </v-row>\r\n\r\n  <v-row justify=\"center\">\r\n    <div style=\"padding-top: 50px\" v-if=\"emailValidity\">\r\n      <v-alert\r\n        class=\"success\"\r\n        type=\"success\"\r\n        title=\"New password sent!\"\r\n        text=\"A new password has been sent to the admin email\"\r\n      >\r\n      </v-alert>\r\n    </div>\r\n  </v-row>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nconst router = useRouter();\r\n\r\nconst email = ref(\"\");\r\nlet form = reactive();\r\nconst emailRules = reactive([\r\n  (value) => /.+@.+\\..+/.test(value) || \"E-mail must be valid.\",\r\n]);\r\nlet emailValidity = ref(false);\r\nconst submitForm = async () => {\r\n  //ask backend if email is correct\r\n  let reqObj = {\r\n    email: email.value,\r\n  };\r\n  let response = await fetch(\r\n    `${process.env.VUE_APP_BASE_URL}/v1/email/validate`,\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(reqObj),\r\n    }\r\n  );\r\n  response = await response.json();\r\n  if (response.valid == true) {\r\n    emailValidity.value = true;\r\n    setTimeout(function () {\r\n      emailValidity.value = false;\r\n      router.push(\"/login\");\r\n    }, 10000);\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n</style>\r\n","import script from \"./ForgotPWView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ForgotPWView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ForgotPWView.vue?vue&type=style&index=0&id=c375036c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","// Utilities\nimport { createSimpleFunctional } from \"../../util/index.mjs\";\nexport const VAlertTitle = createSimpleFunctional('v-alert-title');\n//# sourceMappingURL=VAlertTitle.mjs.map","import { mergeProps as _mergeProps, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VAlert.css\";\n\n// Components\nimport { VAlertTitle } from \"./VAlertTitle.mjs\";\nimport { VBtn } from \"../VBtn/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VIcon } from \"../VIcon/index.mjs\"; // Composables\nimport { useTextColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDensityProps, useDensity } from \"../../composables/density.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\";\nimport { makeElevationProps, useElevation } from \"../../composables/elevation.mjs\";\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { useLocale } from \"../../composables/locale.mjs\";\nimport { makeLocationProps, useLocation } from \"../../composables/location.mjs\";\nimport { makePositionProps, usePosition } from \"../../composables/position.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { genOverlays, makeVariantProps, useVariant } from \"../../composables/variant.mjs\"; // Utilities\nimport { computed, toRef } from 'vue';\nimport { genericComponent, propsFactory } from \"../../util/index.mjs\"; // Types\nconst allowedTypes = ['success', 'info', 'warning', 'error'];\nexport const makeVAlertProps = propsFactory({\n  border: {\n    type: [Boolean, String],\n    validator: val => {\n      return typeof val === 'boolean' || ['top', 'end', 'bottom', 'start'].includes(val);\n    }\n  },\n  borderColor: String,\n  closable: Boolean,\n  closeIcon: {\n    type: IconValue,\n    default: '$close'\n  },\n  closeLabel: {\n    type: String,\n    default: '$vuetify.close'\n  },\n  icon: {\n    type: [Boolean, String, Function, Object],\n    default: null\n  },\n  modelValue: {\n    type: Boolean,\n    default: true\n  },\n  prominent: Boolean,\n  title: String,\n  text: String,\n  type: {\n    type: String,\n    validator: val => allowedTypes.includes(val)\n  },\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeDimensionProps(),\n  ...makeElevationProps(),\n  ...makeLocationProps(),\n  ...makePositionProps(),\n  ...makeRoundedProps(),\n  ...makeTagProps(),\n  ...makeThemeProps(),\n  ...makeVariantProps({\n    variant: 'flat'\n  })\n}, 'VAlert');\nexport const VAlert = genericComponent()({\n  name: 'VAlert',\n  props: makeVAlertProps(),\n  emits: {\n    'click:close': e => true,\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      emit,\n      slots\n    } = _ref;\n    const isActive = useProxiedModel(props, 'modelValue');\n    const icon = computed(() => {\n      if (props.icon === false) return undefined;\n      if (!props.type) return props.icon;\n      return props.icon ?? `$${props.type}`;\n    });\n    const variantProps = computed(() => ({\n      color: props.color ?? props.type,\n      variant: props.variant\n    }));\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      colorClasses,\n      colorStyles,\n      variantClasses\n    } = useVariant(variantProps);\n    const {\n      densityClasses\n    } = useDensity(props);\n    const {\n      dimensionStyles\n    } = useDimension(props);\n    const {\n      elevationClasses\n    } = useElevation(props);\n    const {\n      locationStyles\n    } = useLocation(props);\n    const {\n      positionClasses\n    } = usePosition(props);\n    const {\n      roundedClasses\n    } = useRounded(props);\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(toRef(props, 'borderColor'));\n    const {\n      t\n    } = useLocale();\n    const closeProps = computed(() => ({\n      'aria-label': t(props.closeLabel),\n      onClick(e) {\n        isActive.value = false;\n        emit('click:close', e);\n      }\n    }));\n    return () => {\n      const hasPrepend = !!(slots.prepend || icon.value);\n      const hasTitle = !!(slots.title || props.title);\n      const hasClose = !!(slots.close || props.closable);\n      return isActive.value && _createVNode(props.tag, {\n        \"class\": ['v-alert', props.border && {\n          'v-alert--border': !!props.border,\n          [`v-alert--border-${props.border === true ? 'start' : props.border}`]: true\n        }, {\n          'v-alert--prominent': props.prominent\n        }, themeClasses.value, colorClasses.value, densityClasses.value, elevationClasses.value, positionClasses.value, roundedClasses.value, variantClasses.value, props.class],\n        \"style\": [colorStyles.value, dimensionStyles.value, locationStyles.value, props.style],\n        \"role\": \"alert\"\n      }, {\n        default: () => [genOverlays(false, 'v-alert'), props.border && _createVNode(\"div\", {\n          \"key\": \"border\",\n          \"class\": ['v-alert__border', textColorClasses.value],\n          \"style\": textColorStyles.value\n        }, null), hasPrepend && _createVNode(\"div\", {\n          \"key\": \"prepend\",\n          \"class\": \"v-alert__prepend\"\n        }, [!slots.prepend ? _createVNode(VIcon, {\n          \"key\": \"prepend-icon\",\n          \"density\": props.density,\n          \"icon\": icon.value,\n          \"size\": props.prominent ? 44 : 28\n        }, null) : _createVNode(VDefaultsProvider, {\n          \"key\": \"prepend-defaults\",\n          \"disabled\": !icon.value,\n          \"defaults\": {\n            VIcon: {\n              density: props.density,\n              icon: icon.value,\n              size: props.prominent ? 44 : 28\n            }\n          }\n        }, slots.prepend)]), _createVNode(\"div\", {\n          \"class\": \"v-alert__content\"\n        }, [hasTitle && _createVNode(VAlertTitle, {\n          \"key\": \"title\"\n        }, {\n          default: () => [slots.title?.() ?? props.title]\n        }), slots.text?.() ?? props.text, slots.default?.()]), slots.append && _createVNode(\"div\", {\n          \"key\": \"append\",\n          \"class\": \"v-alert__append\"\n        }, [slots.append()]), hasClose && _createVNode(\"div\", {\n          \"key\": \"close\",\n          \"class\": \"v-alert__close\"\n        }, [!slots.close ? _createVNode(VBtn, _mergeProps({\n          \"key\": \"close-btn\",\n          \"icon\": props.closeIcon,\n          \"size\": \"x-small\",\n          \"variant\": \"text\"\n        }, closeProps.value), null) : _createVNode(VDefaultsProvider, {\n          \"key\": \"close-defaults\",\n          \"defaults\": {\n            VBtn: {\n              icon: props.closeIcon,\n              size: 'x-small',\n              variant: 'text'\n            }\n          }\n        }, {\n          default: () => [slots.close?.({\n            props: closeProps.value\n          })]\n        })])]\n      });\n    };\n  }\n});\n//# sourceMappingURL=VAlert.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { createForm, makeFormProps } from \"../../composables/form.mjs\";\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\"; // Utilities\nimport { ref } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVFormProps = propsFactory({\n  ...makeComponentProps(),\n  ...makeFormProps()\n}, 'VForm');\nexport const VForm = genericComponent()({\n  name: 'VForm',\n  props: makeVFormProps(),\n  emits: {\n    'update:modelValue': val => true,\n    submit: e => true\n  },\n  setup(props, _ref) {\n    let {\n      slots,\n      emit\n    } = _ref;\n    const form = createForm(props);\n    const formRef = ref();\n    function onReset(e) {\n      e.preventDefault();\n      form.reset();\n    }\n    function onSubmit(_e) {\n      const e = _e;\n      const ready = form.validate();\n      e.then = ready.then.bind(ready);\n      e.catch = ready.catch.bind(ready);\n      e.finally = ready.finally.bind(ready);\n      emit('submit', e);\n      if (!e.defaultPrevented) {\n        ready.then(_ref2 => {\n          let {\n            valid\n          } = _ref2;\n          if (valid) {\n            formRef.value?.submit();\n          }\n        });\n      }\n      e.preventDefault();\n    }\n    useRender(() => _createVNode(\"form\", {\n      \"ref\": formRef,\n      \"class\": ['v-form', props.class],\n      \"style\": props.style,\n      \"novalidate\": true,\n      \"onReset\": onReset,\n      \"onSubmit\": onSubmit\n    }, [slots.default?.(form)]));\n    return forwardRefs(form, formRef);\n  }\n});\n//# sourceMappingURL=VForm.mjs.map"],"names":["router","email","form","emailRules","value","test","emailValidity","submitForm","async","reqObj","response","fetch","method","headers","body","JSON","stringify","json","valid","setTimeout","push","__exports__","VAlertTitle","createSimpleFunctional","allowedTypes","makeVAlertProps","propsFactory","border","type","Boolean","String","validator","val","includes","borderColor","closable","closeIcon","default","closeLabel","icon","Function","Object","modelValue","prominent","title","text","variant","VAlert","name","props","emits","e","setup","_ref","emit","slots","isActive","variantProps","color","themeClasses","colorClasses","colorStyles","variantClasses","densityClasses","dimensionStyles","elevationClasses","locationStyles","positionClasses","roundedClasses","textColorClasses","textColorStyles","t","closeProps","onClick","hasPrepend","prepend","hasTitle","hasClose","close","tag","class","style","VDefaultsProvider","VIcon","density","size","append","VBtn","makeVFormProps","VForm","submit","formRef","onReset","preventDefault","reset","onSubmit","_e","ready","validate","then","bind","catch","finally","defaultPrevented","_ref2"],"sourceRoot":""}