{"version":3,"file":"js/forgot.9348f59f.js","mappings":"4ZAqBA,MAAMA,GAAQ,QAAI,IAClB,IAAIC,GAAO,UACX,MAAMC,GAAa,QAAS,CACzBC,GAAU,YAAYC,KAAKD,IAAU,0BAGlCE,EAAaC,UAGf,IAAIC,EAAS,CACXP,MAAOA,EAAMG,OAEXK,QAAiBC,MACnB,iEACA,CACEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUP,KAGzBC,QAAiBA,EAASO,OAC1BC,QAAQC,IAAI,uBAAwBT,GACd,GAAlBA,EAASU,MACXF,QAAQC,IAAI,iBAEZD,QAAQC,IAAI,YACd,E,0jBC5CJ,MAAME,EAAc,EAEpB,O,0ICAO,MAAMC,GAAiB,OAAa,KACtC,aACA,WACF,SACUC,GAAQ,UAAmB,CACtCC,KAAM,QACNC,MAAOH,IACPI,MAAO,CACL,oBAAqBC,IAAO,EAC5BC,OAAQC,IAAK,GAEf,KAAAC,CAAML,EAAOM,GACX,IAAI,MACFC,EAAK,KACLC,GACEF,EACJ,MAAM5B,GAAO,QAAWsB,GAClBS,GAAU,UAChB,SAASC,EAAQN,GACfA,EAAEO,iBACFjC,EAAKkC,OACP,CACA,SAASC,EAASC,GAChB,MAAMV,EAAIU,EACJC,EAAQrC,EAAKsC,WACnBZ,EAAEa,KAAOF,EAAME,KAAKC,KAAKH,GACzBX,EAAEe,MAAQJ,EAAMI,MAAMD,KAAKH,GAC3BX,EAAEgB,QAAUL,EAAMK,QAAQF,KAAKH,GAC/BP,EAAK,SAAUJ,GACVA,EAAEiB,kBACLN,EAAME,MAAKK,IACT,IAAI,MACF3B,GACE2B,EACA3B,GACFc,EAAQ7B,OAAOuB,QACjB,IAGJC,EAAEO,gBACJ,CASA,OARA,QAAU,KAAM,QAAa,OAAQ,CACnC,IAAOF,EACP,MAAS,CAAC,SAAUT,EAAMuB,OAC1B,MAASvB,EAAMwB,MACf,YAAc,EACd,QAAWd,EACX,SAAYG,GACX,CAACN,EAAMkB,UAAU/C,QACb,OAAYA,EAAM+B,EAC3B,G","sources":["webpack://gps-leaflet/./src/views/ForgotPWView.vue","webpack://gps-leaflet/./src/views/ForgotPWView.vue?a61f","webpack://gps-leaflet/./node_modules/vuetify/lib/components/VForm/VForm.mjs"],"sourcesContent":["<template>\r\n  <v-row justify=\"center\">\r\n    <h1>you have a bad memory</h1>\r\n  </v-row>\r\n  <v-row justify=\"center\">\r\n    <v-form @submit.prevent=\"submitForm()\" ref=\"form\">\r\n      <div class=\"text-h4\">Enter the email associated with your account</div>\r\n      <v-text-field\r\n        v-model=\"email\"\r\n        :rules=\"emailRules\"\r\n        label=\"name@example.com\"\r\n        hide-details\r\n        required\r\n      ></v-text-field>\r\n      <v-btn type=\"submit\">Submit</v-btn>\r\n    </v-form>\r\n  </v-row>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from \"vue\";\r\nconst email = ref(\"\");\r\nlet form = reactive();\r\nconst emailRules = reactive([\r\n  (value) => /.+@.+\\..+/.test(value) || \"E-mail must be valid.\",\r\n]);\r\n\r\nconst submitForm = async () => {\r\n\r\n    //ask backend if email is correct\r\n    let reqObj = {\r\n      email: email.value,\r\n    };\r\n    let response = await fetch(\r\n      `${process.env.VUE_APP_BASE_URL}/v1/email/validate`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(reqObj),\r\n      }\r\n    );\r\n    response = await response.json();\r\n    console.log(\"validate res from be\", response);\r\n    if (response.valid == true) {\r\n      console.log(\"email correct\");\r\n    } else {\r\n      console.log(\"incorrect\");\r\n    }\r\n\r\n};\r\n</script>\r\n\r\n<style>\r\n.form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n</style>\r\n","import script from \"./ForgotPWView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ForgotPWView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ForgotPWView.vue?vue&type=style&index=0&id=7c841ea8&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createVNode as _createVNode } from \"vue\";\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { createForm, makeFormProps } from \"../../composables/form.mjs\";\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\"; // Utilities\nimport { ref } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVFormProps = propsFactory({\n  ...makeComponentProps(),\n  ...makeFormProps()\n}, 'VForm');\nexport const VForm = genericComponent()({\n  name: 'VForm',\n  props: makeVFormProps(),\n  emits: {\n    'update:modelValue': val => true,\n    submit: e => true\n  },\n  setup(props, _ref) {\n    let {\n      slots,\n      emit\n    } = _ref;\n    const form = createForm(props);\n    const formRef = ref();\n    function onReset(e) {\n      e.preventDefault();\n      form.reset();\n    }\n    function onSubmit(_e) {\n      const e = _e;\n      const ready = form.validate();\n      e.then = ready.then.bind(ready);\n      e.catch = ready.catch.bind(ready);\n      e.finally = ready.finally.bind(ready);\n      emit('submit', e);\n      if (!e.defaultPrevented) {\n        ready.then(_ref2 => {\n          let {\n            valid\n          } = _ref2;\n          if (valid) {\n            formRef.value?.submit();\n          }\n        });\n      }\n      e.preventDefault();\n    }\n    useRender(() => _createVNode(\"form\", {\n      \"ref\": formRef,\n      \"class\": ['v-form', props.class],\n      \"style\": props.style,\n      \"novalidate\": true,\n      \"onReset\": onReset,\n      \"onSubmit\": onSubmit\n    }, [slots.default?.(form)]));\n    return forwardRefs(form, formRef);\n  }\n});\n//# sourceMappingURL=VForm.mjs.map"],"names":["email","form","emailRules","value","test","submitForm","async","reqObj","response","fetch","method","headers","body","JSON","stringify","json","console","log","valid","__exports__","makeVFormProps","VForm","name","props","emits","val","submit","e","setup","_ref","slots","emit","formRef","onReset","preventDefault","reset","onSubmit","_e","ready","validate","then","bind","catch","finally","defaultPrevented","_ref2","class","style","default"],"sourceRoot":""}