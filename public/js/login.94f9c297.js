"use strict";(self["webpackChunkgps_leaflet"]=self["webpackChunkgps_leaflet"]||[]).push([[535],{8457:function(e,t,l){l.r(t),l.d(t,{default:function(){return h}});var n=l(6252),a=l(2262),o=l(9963),s=l(6673),u=l(9357),i=l(9003),d=l(3379),c=l(6393);const r={style:{display:"flex","justify-content":"center"}},m=(0,n._)("h1",null,"Login",-1);var f={__name:"LoginView",setup(e){let t=(0,a.iH)(""),l=(0,a.iH)(""),f=(0,a.qj)([e=>e.length>0||"Please add a value to this field"]),v=async()=>{let e={username:t.value,password:l.value},n=await fetch("http://localhost:3000/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json",credentials:"include"},body:JSON.stringify(e)});const a=n.headers;console.log(a),n=await n.json();const o=document.cookie;console.log("All headers:",a),console.log("Received Cookies:",o),console.log(n)},h=async()=>{let e=await fetch("http://localhost:3000/v1/auth/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});e=await e.json(),console.log(e)},p=()=>{console.log(t.value,l.value),v()};return(e,v)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",r,[(0,n.Wm)(s.T,{onClick:(0,a.SU)(h),flat:""},{default:(0,n.w5)((()=>[(0,n.Uk)("Logout")])),_:1},8,["onClick"])]),(0,n.Wm)(i.o,{justify:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(d.D,{cols:"3"},{default:(0,n.w5)((()=>[(0,n.Wm)(u.O,{class:"form",onSubmit:(0,o.iM)((0,a.SU)(p),["prevent"])},{default:(0,n.w5)((()=>[m,(0,n.Wm)(c.h,{label:"Username",variant:"outlined",modelValue:(0,a.SU)(t),"onUpdate:modelValue":v[0]||(v[0]=e=>(0,a.dq)(t)?t.value=e:t=e),rules:(0,a.SU)(f),required:""},null,8,["modelValue","rules"]),(0,n.Wm)(c.h,{label:"Password",variant:"outlined",modelValue:(0,a.SU)(l),"onUpdate:modelValue":v[1]||(v[1]=e=>(0,a.dq)(l)?l.value=e:l=e),rules:(0,a.SU)(f),required:""},null,8,["modelValue","rules"]),(0,n.Wm)(s.T,{type:"submit",flat:""},{default:(0,n.w5)((()=>[(0,n.Uk)("Submit")])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})],64))}};const v=f;var h=v},9357:function(e,t,l){l.d(t,{O:function(){return m}});var n=l(6252),a=l(9e3),o=l(9728),s=l(9483),u=l(2262),i=l(6533),d=l(6719),c=l(3099);const r=(0,i.U)({...(0,a.l)(),...(0,o.vC)()},"VForm"),m=(0,d.ev)()({name:"VForm",props:r(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:l,emit:a}=t;const i=(0,o.Np)(e),d=(0,u.iH)();function r(e){e.preventDefault(),i.reset()}function m(e){const t=e,l=i.validate();t.then=l.then.bind(l),t.catch=l.catch.bind(l),t.finally=l.finally.bind(l),a("submit",t),t.defaultPrevented||l.then((e=>{let{valid:t}=e;t&&d.value?.submit()})),t.preventDefault()}return(0,c.L)((()=>(0,n.Wm)("form",{ref:d,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:r,onSubmit:m},[l.default?.(i)]))),(0,s.F)(i,d)}})}}]);
//# sourceMappingURL=login.94f9c297.js.map